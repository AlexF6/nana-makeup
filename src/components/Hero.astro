---
import { Image } from "astro:assets";
// Asegúrate de que la ruta sea correcta
import bread from "../assets/images/bread.webp";

const featuredBig = {
  badge: "Best Seller",
  title: "NANA Essentials Kit",
  desc: "La colección definitiva. Acabado punk-goth glam de larga duración y alta pigmentación.",
  price: "$ 149.900",
  image: bread,
  meta: "4.9 ★★★★★",
  tags: ["Cruelty-free", "Waterproof", "High Pigment"]
};

const featuredSmall = {
  badge: "New Drop",
  title: "Lip Tint SF 4",
  desc: "Acabado mate, textura terciopelo y color intenso.",
  price: "$ 34.900",
  image: bread,
  meta: "4.8 ★",
};
---

<section class="relative overflow-hidden py-8 md:py-8 lg:py-8">
  <!-- FONDO DECORATIVO (Glow & Noise) -->
  <div class="pointer-events-none absolute inset-0 -z-10 overflow-hidden">
    <!-- Gradiente sutil rosa/rojo en el fondo -->
    <div class="absolute -left-[10%] top-0 h-125 w-125 rounded-full bg-pink-500/10 blur-[100px] mix-blend-multiply"></div>
    <div class="absolute right-0 top-[20%] h-100 w-100 rounded-full bg-rose-500/10 blur-[80px] mix-blend-multiply"></div>
    <!-- Textura de ruido (Noise) para el toque Punk -->
    <div class="absolute inset-0 opacity-[0.03]" style="background-image: url('data:image/svg+xml,%3Csvg viewBox=%220 0 200 200%22 xmlns=%22http://www.w3.org/2000/svg%22%3E%3Cfilter id=%22noiseFilter%22%3E%3CfeTurbulence type=%22fractalNoise%22 baseFrequency=%220.65%22 numOctaves=%223%22 stitchTiles=%22stitch%22/%3E%3C/filter%3E%3Crect width=%22100%25%22 height=%22100%25%22 filter=%22url(%23noiseFilter)%22/%3E%3C/svg%3E');"></div>
  </div>

  <div class="mx-auto w-full max-w-400">
    <div class="grid gap-6 lg:grid-cols-[1fr_1.1fr] xl:gap-8">
      
      <!-- COLUMNA IZQUIERDA -->
      <div class="flex flex-col gap-6">
        
        <!-- Tarjeta de Intro Principal -->
        <div
          class="animate-entry relative flex flex-col justify-center overflow-hidden rounded-4xl border border-black/5 bg-white/40 p-6 backdrop-blur-xl md:p-10 lg:min-h-105"
          style="--delay: 100ms"
        >
          <!-- Decoración interna sutil -->
          <div class="absolute -right-10 -top-10 h-32 w-32 rounded-full bg-linear-to-br from-pink-500 to-rose-500 opacity-10 blur-2xl"></div>

          <h1 class="relative z-10 text-balance text-4xl font-black leading-[1.05] tracking-tight text-zinc-900 md:text-5xl lg:text-6xl">
            <span class="bg-linear-to-r from-pink-600 via-rose-500 to-pink-600 bg-clip-text text-transparent">NANA</span>
            <span>Beauty</span>
            <br />
            <span class="text-2xl font-medium tracking-normal text-zinc-500 md:text-3xl">punk-goth essentials.</span>
          </h1>

          <p class="relative z-10 mt-6 max-w-prose text-base leading-relaxed text-zinc-600 md:text-lg">
            Expresa tu lado más auténtico. Productos inspirados en el anime icónico que capturan la esencia rebelde y elegante del estilo punk rock.
          </p>

          <div class="relative z-10 mt-8 flex flex-wrap gap-3">
            <a
              href="/catalog"
              class="group inline-flex h-12 items-center justify-center gap-2 rounded-xl bg-zinc-900 px-8 text-base font-semibold text-white transition-all duration-300 hover:bg-pink-600 hover:shadow-lg hover:shadow-pink-500/25 active:scale-95"
            >
              Explorar
              <!-- Flecha animada -->
              <svg class="h-4 w-4 transition-transform duration-300 group-hover:translate-x-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5">
                <path stroke-linecap="round" stroke-linejoin="round" d="M14 5l7 7m0 0l-7 7m7-7H3" />
              </svg>
            </a>

            <a
              href="https://wa.me/573116973505"
              target="_blank"
              rel="noopener noreferrer"
              class="inline-flex h-12 items-center justify-center rounded-xl border border-zinc-200 bg-white px-8 text-base font-semibold text-zinc-800 transition-all hover:border-pink-200 hover:bg-pink-50 hover:text-pink-700 active:scale-95"
            >
              WhatsApp
            </a>
          </div>
        </div>

        <!-- Tarjeta Pequeña de Producto -->
        <a
          href="/catalog"
          class="animate-entry group relative overflow-hidden rounded-4xl border border-white/50 bg-white/60 p-2 transition-all duration-300 hover:border-pink-300/50 hover:bg-white hover:shadow-xl hover:shadow-pink-900/5 lg:h-full"
          style="--delay: 200ms"
        >
          <div class="flex h-full flex-col sm:flex-row">
            <div class="flex flex-1 flex-col justify-between p-5">
              <div>
                <div class="flex items-center justify-between">
                  <span class="inline-flex items-center rounded-full border border-rose-200 bg-rose-50 px-2.5 py-0.5 text-[10px] font-bold uppercase tracking-wider text-rose-600">
                    {featuredSmall.badge}
                  </span>
                  <span class="text-xs font-semibold text-zinc-400">{featuredSmall.meta}</span>
                </div>
                <h3 class="mt-3 text-xl font-bold text-zinc-900 group-hover:text-pink-600 transition-colors">
                  {featuredSmall.title}
                </h3>
                <p class="mt-1 text-sm text-zinc-500 line-clamp-2">{featuredSmall.desc}</p>
              </div>
              <div class="mt-4">
                <p class="text-lg font-bold text-zinc-900">{featuredSmall.price}</p>
              </div>
            </div>
            
            <div class="relative h-full w-full overflow-hidden rounded-3xl sm:h-auto sm:w-110">
              <Image
                src={featuredSmall.image}
                alt={featuredSmall.title}
                class="h-full w-full object-cover transition duration-500 group-hover:scale-102"
              />
            </div>
          </div>
        </a>
      </div>

      <!-- COLUMNA DERECHA (Producto Grande) -->
      <a
        href="/catalog"
        class="animate-entry group relative flex flex-col overflow-hidden rounded-4xl border border-white/50 bg-white/60 p-2 transition-all duration-300 hover:-translate-y-1 hover:border-pink-300/50 hover:bg-white hover:shadow-2xl hover:shadow-pink-900/10"
        style="--delay: 300ms"
      >
        <!-- Imagen con overlay sutil al hover -->
        <div class="relative aspect-4/3 w-full overflow-hidden rounded-3xl md:aspect-16/10 lg:aspect-auto lg:h-full lg:flex">
          <Image
            src={featuredBig.image}
            alt={featuredBig.title}
            class="h-full w-full object-cover transition duration-700 ease-in-out group-hover:scale-105"
            loading="eager"
            width={800}
          />
          <!-- Badge flotante sobre la imagen -->
          <div class="absolute left-4 top-4">
             <span class="rounded-full bg-white/90 px-3 py-1 text-xs font-bold uppercase tracking-wider text-zinc-900 backdrop-blur-sm shadow-sm">
              {featuredBig.badge}
            </span>
          </div>
        </div>

        <div class="flex flex-col gap-4 px-4 pb-4 pt-5 md:px-6 md:pb-6">
          <div>
            <div class="flex items-baseline justify-between">
              <h3 class="text-2xl font-black text-zinc-900 md:text-3xl group-hover:text-pink-600 transition-colors">
                {featuredBig.title}
              </h3>
              <span class="text-xs font-bold text-zinc-400">{featuredBig.meta}</span>
            </div>
            <p class="mt-2 text-zinc-600">{featuredBig.desc}</p>
          </div>

          <div class="flex items-end justify-between border-t border-zinc-100 pt-4">
            <div class="flex flex-wrap gap-x-3 gap-y-1 text-xs font-medium text-zinc-500">
              {featuredBig.tags.map(tag => (
                <span class="flex items-center gap-1">
                  <span class="h-1 w-1 rounded-full bg-pink-400"></span> {tag}
                </span>
              ))}
            </div>
            <p class="text-2xl font-bold tracking-tight text-zinc-900">{featuredBig.price}</p>
          </div>
        </div>
      </a>

    </div>
  </div>
</section>

<style>
  /* Animación de entrada suave */
  .animate-entry {
    opacity: 0;
    animation: fadeInUp 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards;
    animation-delay: var(--delay, 0ms);
  }

  @keyframes fadeInUp {
    from { 
      opacity: 0; 
      transform: translateY(20px) scale(0.98); 
    }
    to { 
      opacity: 1; 
      transform: translateY(0) scale(1); 
    }
  }

  @media (prefers-reduced-motion: reduce) {
    .animate-entry { opacity: 1; animation: none; transform: none; }
  }
</style>