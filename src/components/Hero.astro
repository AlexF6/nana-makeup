---
import { Image } from "astro:assets";
// Asegúrate de que la ruta de la imagen sea correcta en tu proyecto
import bread from "../assets/images/bread.webp";

const featuredBig = {
  badge: "Best Seller",
  title: "NANA Essentials Kit",
  desc: "La colección definitiva. Acabado punk-goth glam de larga duración y alta pigmentación.",
  price: "$ 149.900",
  image: bread,
  meta: "4.9 ★★★★★",
  tags: ["Cruelty-free", "Waterproof", "High Pigment"]
};

const featuredSmall = {
  badge: "New Drop",
  title: "Lip Tint SF 4",
  desc: "Acabado mate, textura terciopelo y color intenso.",
  price: "$ 34.900",
  image: bread,
  meta: "4.8 ★",
};
---

<section class="relative overflow-hidden py-12 md:py-8 lg:py-8 bg-zinc-950">
  
  <!-- Fondo con Glows (Optimizados) -->
  <div class="pointer-events-none absolute inset-0 -z-10 overflow-hidden">
    <div class="absolute -left-[10%] top-0 h-125 w-125 rounded-full bg-pink-500/20 blur-[120px] mix-blend-screen"></div>
    <div class="absolute right-0 top-[20%] h-100 w-100 rounded-full bg-rose-600/15 blur-[100px] mix-blend-screen"></div>
  </div>

  <!-- Contenedor Principal (Ancho estándar corregido) -->
  <div class="mx-auto w-full max-w-400">
    
    <!-- Grid Principal (Bento Layout) -->
    <div class="grid gap-6 lg:grid-cols-[1fr_1.1fr] lg:gap-8 items-stretch">
      
      <!-- COLUMNA IZQUIERDA -->
      <div class="flex flex-col gap-6 h-full">
        
        <!-- 1. Tarjeta de Intro Principal -->
        <div
          class="animate-entry relative flex flex-col justify-center overflow-hidden rounded-4xl border border-white/10 bg-zinc-900/40 p-6 backdrop-blur-xl md:p-10 lg:flex-1"
          style="--delay: 100ms"
        >
          <!-- Decoración interna -->
          <div class="absolute -right-12 -top-12 h-40 w-40 rounded-full bg-linear-to-br from-pink-500 to-rose-500 opacity-20 blur-3xl"></div>

          <div class="relative z-10">
            <h1 class="text-balance text-4xl font-black leading-[1.05] tracking-tight text-zinc-50 md:text-5xl lg:text-6xl">
              <span class="bg-linear-to-r from-pink-500 via-rose-400 to-pink-500 bg-clip-text text-transparent">NANA</span>
              <span class="text-zinc-50">Beauty</span>
              <br />
              <span class="text-2xl font-medium tracking-normal text-zinc-300 md:text-3xl">punk-goth essentials.</span>
            </h1>

            <p class="mt-6 max-w-prose text-base leading-relaxed text-zinc-300 md:text-lg">
              Expresa tu lado más auténtico. Productos inspirados en el anime icónico que capturan la esencia rebelde y elegante.
            </p>

            <div class="mt-8 flex flex-wrap gap-3">
              <a
                href="/catalog"
                class="group inline-flex h-12 items-center justify-center gap-2 rounded-xl bg-pink-600 px-8 text-base font-semibold text-white transition-all duration-300 hover:bg-pink-500 hover:shadow-lg hover:shadow-pink-500/25 active:scale-95"
              >
                Explorar
                <svg class="h-4 w-4 transition-transform duration-300 group-hover:translate-x-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M14 5l7 7m0 0l-7 7m7-7H3" />
                </svg>
              </a>

              <a
                href="https://wa.me/573116973505"
                class="inline-flex h-12 items-center justify-center rounded-xl border border-white/10 bg-white/5 px-8 text-base font-semibold text-zinc-100 transition-all hover:border-pink-500/30 hover:bg-pink-500/10 hover:text-pink-200 active:scale-95"
              >
                WhatsApp
              </a>
            </div>
          </div>
        </div>

        <!-- 2. Tarjeta Pequeña de Producto -->
        <a
          href="/catalog"
          class="animate-entry group relative overflow-hidden rounded-4xl border border-white/10 bg-zinc-900/40 p-2 transition-all duration-300 hover:border-pink-500/30 hover:bg-zinc-900/60 hover:shadow-xl hover:shadow-pink-900/10"
          style="--delay: 200ms"
        >
          <div class="flex flex-col sm:flex-row gap-4 h-full">
            <div class="flex flex-1 flex-col justify-between p-4 sm:p-5">
              <div>
                <div class="flex items-center justify-between mb-2">
                  <span class="inline-flex items-center rounded-full border border-rose-500/30 bg-rose-500/10 px-2.5 py-0.5 text-[10px] font-bold uppercase tracking-wider text-rose-200">
                    {featuredSmall.badge}
                  </span>
                  <span class="text-xs font-semibold text-zinc-500">{featuredSmall.meta}</span>
                </div>

                <h3 class="text-xl font-bold text-zinc-100 transition-colors group-hover:text-pink-300">
                  {featuredSmall.title}
                </h3>
                <p class="mt-1 text-sm text-zinc-400 line-clamp-2">{featuredSmall.desc}</p>
              </div>

              <div class="mt-4">
                <p class="text-lg font-bold text-zinc-50">{featuredSmall.price}</p>
              </div>
            </div>

            <!-- Imagen pequeña ajustada -->
            <div class="relative h-48 sm:h-auto sm:w-48 overflow-hidden rounded-3xl">
              <Image
                src={featuredSmall.image}
                alt={featuredSmall.title}
                class="h-full w-full object-cover transition duration-500 group-hover:scale-110"
                width={400}
                height={400}
              />
              <div class="pointer-events-none absolute inset-0 ring-1 ring-inset ring-white/10 rounded-3xl"></div>
            </div>
          </div>
        </a>
      </div>

      <!-- COLUMNA DERECHA (Producto Grande) -->
      <a
        href="/catalog"
        class="animate-entry group relative flex flex-col overflow-hidden rounded-4xl border border-white/10 bg-zinc-900/40 p-2 transition-all duration-300 hover:-translate-y-1 hover:border-pink-500/30 hover:bg-zinc-900/60 hover:shadow-2xl hover:shadow-pink-900/20 h-full"
        style="--delay: 300ms"
      >
        <!-- Contenedor de imagen que se expande para llenar el espacio vertical -->
        <div class="relative w-full overflow-hidden rounded-3xl flex-1 max-h-150">

          <Image
            src={featuredBig.image}
            alt={featuredBig.title}
            class="h-full w-full object-cover transition duration-700 ease-in-out group-hover:scale-105"
            loading="eager"
            width={800}
            height={1000}
          />
          <!-- Degradado para legibilidad -->
          <div class="pointer-events-none absolute inset-0 bg-linear-to-t from-zinc-950/80 via-transparent to-transparent"></div>

          <div class="absolute left-4 top-4">
            <span class="rounded-full border border-white/10 bg-zinc-950/60 px-3 py-1 text-xs font-bold uppercase tracking-wider text-white backdrop-blur-md shadow-lg">
              {featuredBig.badge}
            </span>
          </div>
        </div>

        <div class="flex flex-col gap-4 px-4 pb-4 pt-5 md:px-6 md:pb-6">
          <div>
            <div class="flex items-baseline justify-between">
              <h3 class="text-2xl font-black text-zinc-100 transition-colors md:text-3xl group-hover:text-pink-300">
                {featuredBig.title}
              </h3>
              <span class="text-xs font-bold text-zinc-500">{featuredBig.meta}</span>
            </div>
            <p class="mt-2 text-zinc-300 line-clamp-2">{featuredBig.desc}</p>
          </div>

          <div class="flex items-center justify-between border-t border-white/10 pt-4 mt-auto">
            <div class="flex flex-wrap gap-x-3 gap-y-2 text-xs font-medium text-zinc-400">
              {featuredBig.tags.map(tag => (
                <span class="flex items-center gap-1.5">
                  <span class="h-1.5 w-1.5 rounded-full bg-pink-500 shadow-[0_0_8px_rgba(236,72,153,0.8)]"></span> 
                  {tag}
                </span>
              ))}
            </div>
            <p class="text-2xl font-bold tracking-tight text-white">{featuredBig.price}</p>
          </div>
        </div>
      </a>
    </div>
  </div>
</section>

<style>
  /* Animación de entrada */
  .animate-entry {
    opacity: 0;
    animation: fadeInUp 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards;
    animation-delay: var(--delay, 0ms);
  }

  @keyframes fadeInUp {
    from { 
      opacity: 0; 
      transform: translateY(20px) scale(0.98); 
    }
    to { 
      opacity: 1; 
      transform: translateY(0) scale(1); 
    }
  }

  /* Preferencia de movimiento reducido */
  @media (prefers-reduced-motion: reduce) {
    .animate-entry { opacity: 1; animation: none; transform: none; }
  }
</style>